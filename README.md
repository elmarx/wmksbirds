# wmksbirds

Add a list of twitter account names (scraped from an html file) to a twitter list.

Idea is to add all twitter accounts from [Webmontag-Kassel][wmks] wiki page.

## areas of application

It should work with many websites, not only the [webmontag-wiki][webmontag]. Solely the *-a* switch is
webmontag-specific.

## setup

1. Get a **consumer token** and **consumer secret**, from [twitter][twitter-apps] that's an application specific token.
2. create a *settings_local.py* based on *settings_local.txt* and set the tokens from step one.
3. Do the "OAuth-Dance": run *./birdlist.py*, visit the given url, authorize the app and twitter will give you a pin.
Paste this pin to the prompt asking for *"Verification Code"*.
4. Set these codes in *settings_local.py*

## usage

### Help

The fine help generated by python will tell you all possible flags.

    ./birdlist.py -h

### create a default list/add missing members

By default, without any arguments, *birdlist* will look for a default page to scrape
in *settings.py* and a default list name in *settings.py*.

So, if you like these defaults, simply run ```./birdland.py```.

If a list does not exist, it will be created.

### archives

Get a list of archived wiki pages

    ./birdlist.py -a

### create a list for a specific event/archive page

If you want to create a specific list for a specific event, you can do so, too.

    ./birdlist.py -u http://webmontag.de/location/kassel/2016-01-25 -l wmks-2016-01-25

### connect these two…

If you want to create a list for every archived event… use some shell script:

```shell
for i in $(./birdlist.py -a); do
    ./birdlist.py -u $i -l $(echo $i | sed s#http://webmontag.de/location/kassel/#wmks-#);
done

```

## No tests? :(

There's hardly any logic in here, playing around with the twitter api is not very TDD-friendly, so currently not, no. Sorry, I feel bad about it.


[wmks]: http://webmontag.de/location/kassel/index
[webmontag]: http://webmontag.de
[twitter-apps]: https://apps.twitter.com
[create_all]: https://dev.twitter.com/rest/reference/post/lists/members/create_all
